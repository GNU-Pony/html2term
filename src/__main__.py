#!/usr/bin/env python3
'''
html2term – HTML to ANSI escape sequnce formatted text

Copyright © 2014  Mattias Andrée (maandree@member.fsf.org)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
'''

# Characters that should be counted as occupying zero columns.
ZERO_WIDTH_CHARACTERS = [
    (0x0300, 0x036F),    (0x0483, 0x0489),    (0x0591, 0x05BD),    (0x05BF, 0x05BF),    (0x05C1, 0x05C2),
    (0x05C4, 0x05C5),    (0x05C7, 0x05C7),    (0x0610, 0x061A),    (0x064B, 0x065F),    (0x0670, 0x0670),
    (0x06D6, 0x06DC),    (0x06DF, 0x06E4),    (0x06E7, 0x06E8),    (0x06EA, 0x06ED),    (0x0711, 0x0711),
    (0x0730, 0x074A),    (0x07A6, 0x07B0),    (0x07EB, 0x07F3),    (0x0816, 0x0827),    (0x0829, 0x082D),
    (0x08E4, 0x08FF),    (0x0900, 0x0903),    (0x093A, 0x093C),    (0x093E, 0x094F),    (0x0951, 0x0957),
    (0x0962, 0x0963),    (0x0981, 0x0983),    (0x09BC, 0x09BC),    (0x09BE, 0x09CD),    (0x09D7, 0x09D7),
    (0x09E2, 0x09E3),    (0x0A01, 0x0A03),    (0x0A3C, 0x0A3C),    (0x0A3E, 0x0A42),    (0x0A47, 0x0A48),
    (0x0A4B, 0x0A4D),    (0x0A51, 0x0A51),    (0x0A70, 0x0A71),    (0x0A75, 0x0A75),    (0x0A81, 0x0A83),
    (0x0ABC, 0x0ABC),    (0x0ABE, 0x0ACD),    (0x0AE2, 0x0AE3),    (0x0B3C, 0x0B3C),    (0x0B3E, 0x0B57),
    (0x0B62, 0x0B63),    (0x0B82, 0x0B82),    (0x0BBE, 0x0BCD),    (0x0BD7, 0x0BD7),    (0x0C00, 0x0C03),
    (0x0C3E, 0x0C56),    (0x0C62, 0x0C63),    (0x0C81, 0x0C83),    (0x0CBC, 0x0CBC),    (0x0CBE, 0x0CD6),
    (0x0CE2, 0x0CE3),    (0x0D01, 0x0D03),    (0x0D3E, 0x0D57),    (0x0D62, 0x0D63),    (0x0D82, 0x0D83),
    (0x0DCA, 0x0DDF),    (0x0DF2, 0x0DF3),    (0x0E31, 0x0E31),    (0x0E34, 0x0E3A),    (0x0E47, 0x0E4E),
    (0x0EB1, 0x0EB1),    (0x0EB4, 0x0EBC),    (0x0EC8, 0x0ECD),    (0x0F18, 0x0F19),    (0x0F35, 0x0F35),
    (0x0F37, 0x0F37),    (0x0F39, 0x0F39),    (0x0F3E, 0x0F3F),    (0x0F71, 0x0F84),    (0x0F86, 0x0F87),
    (0x0F8D, 0x0FBC),    (0x0FC6, 0x0FC6),    (0x102B, 0x103E),    (0x1056, 0x1059),    (0x105E, 0x1060),
    (0x1062, 0x1064),    (0x1067, 0x106D),    (0x1071, 0x1074),    (0x1082, 0x108D),    (0x108F, 0x108F),
    (0x109A, 0x109D),    (0x135D, 0x135F).    (0x1712, 0x1714),    (0x1732, 0x1734),    (0x1752, 0x1753),
    (0x1772, 0x1773),    (0x17B4, 0x17D3),    (0x17DD, 0x17DD),    (0x180B, 0x180E),    (0x18A9, 0x18A9),
    (0x1920, 0x193B),
    (0x1A17, 0x1A1B),    (0x1A55, 0x1A5E),
    (0x1A60, 0x1A7C),    (0x1A7F, 0x1A7F),    (0x1AB0, 0x1ABE),    (0x1B00, 0x1B04),    (0x1B34, 0x1B44),
    (0x1B6B, 0x1B6F),    (0x1B70, 0x1B73),    (0x1B80, 0x1B82),    (0x1BA1, 0x1BAD),    (0x1BE6, 0x1BF3),
    (0x1C24, 0x1C37),    (0x1CD0, 0x1CE8),    (0x1CED, 0x1CED),    (0x1CF2, 0x1CF4),    (0x1CF8, 0x1CF9),
    (0x1DC0, 0x1DF5),    (0x1DFC, 0x1DFF),    (0x200B, 0x200F),    (0x2028, 0x202F),    (0x2060, 0x206F),
    (0x20D0, 0x20F0),    (0x2CEF, 0x2CF1),    (0x2D7F, 0x2D7F),    (0x2DE0, 0x2DFF),    (0x3099, 0x309A),
    (0xA66F, 0xA672),    (0xA674, 0xA67D),    (0xA69F, 0xA69F),    (0xA802, 0xA802),    (0xA806, 0xA806),
    (0xA80B, 0xA80B),    (0xA823, 0xA827),    (0xA880, 0xA881),    (0xA8B4, 0xA8BF),    (0xA8C0, 0xA8C4),
    (0xA8E0, 0xA8F1),    (0xA926, 0xA92D),    (0xA947, 0xA953),    (0xA980, 0xA983),    (0xA9B3, 0xA9C0),
    (0xAA29, 0xAA36),    (0xAA4C, 0xAA4D),    (0xAA7B, 0xAA7D),    (0xAAB0, 0xAAB8),    (0xAABE, 0xAABF),
    (0xAAC1, 0xAAC1),    (0xAAEB, 0xAAEF),    (0xAAF5, 0xAAF6),    (0xABE3, 0xABEA),    (0xABEC, 0xABED),
    (0xFB1E, 0xFB1E),    (0xFE00, 0xFE0F),    (0xFE20, 0xFE2D),    (0xFEFF, 0xFEFF),    (0xFFF9, 0xFFFB),
    (0x10376, 0x1037A),  (0x10A01, 0x10A03),  (0x10A05, 0x10A06),  (0x10A0C, 0x10A0F),  (0x10A38, 0x10A3A),
    (0x10A3F, 0x10A3F),  (0x10AE5, 0x10AE6),  (0x11000, 0x11002),  (0x11038, 0x11046),  (0x1107F, 0x1107F),
    (0x11080, 0x11082),  (0x110B0, 0x110BA),  (0x11100, 0x11102),  (0x11127, 0x11134),  (0x11173, 0x11173),
    (0x11180, 0x11182),  (0x111B3, 0x111C0),  (0x1122C, 0x11237),  (0x112DF, 0x112EA),  (0x11301, 0x11303),
    (0x1133C, 0x1133C),  (0x1133E, 0x11344),  (0x11347, 0x11348),  (0x1134B, 0x1134D),  (0x11362, 0x11363),
    (0x11366, 0x1136C),  (0x11370, 0x11374),  (0x114B0, 0x114C3),  (0x115AF, 0x115B5),  (0x115B8, 0x115C0),
    (0x11630, 0x11640),  (0x116AB, 0x116B7),  (0x16AF0, 0x16AF4),  (0x16B30, 0x16B36),  (0x16F51, 0x16F7E),
    (0x16F8F, 0x16F92),  (0x1BC9D, 0x1BC9D),  (0x1BCA0, 0x1BCA3),  (0x1D159, 0x1D159),  (0x1D165, 0x1D169),
    (0x1D16D, 0x1D182),  (0x1D185, 0x1D18B),  (0x1D1AA, 0x1D1AD),  (0x1D242, 0x1D244),  (0xE0001, 0xE0001),
    (0xE0020, 0xE007F),  (0xE0100, 0xE01EF)
]

# Characters that should be counted as occupying two columns.
DOUBLE_WIDTH_CHARACTERS = [
    (0x1100, 0x11FF)
]

# Characters that should be counted as occupying one column but is drawn over two columns.
OVERLAPPING_CHARACTERS = [
    (0x058D, 0x058E),    (0x0700, 0x070D),    (0x0710, 0x072F),    (0x074D, 0x074F),    (0x0800, 0x0815),
    (0x0830, 0x033E),    (0x0840, 0x0858),    (0x085E, 0x085E),    (0x0904, 0x0939),    (0x093D, 0x093D),
    (0x0950, 0x0950),    (0x0958, 0x0961),    (0x0964, 0x097F),    (0x0980, 0x0980),    (0x0985, 0x09B9),
    (0x09BD, 0x09BD),    (0x09CE, 0x09CE),    (0x09DC, 0x09E1),    (0x09E6, 0x09FB),    (0x0A05, 0x0A39),
    (0x0A59, 0x0A6F),    (0x0A72, 0x0A74),    (0x0A85, 0x0AB9),    (0x0ABD, 0x0ABD),    (0x0AD0, 0x0AE1),
    (0x0AE6, 0x0AF1),    (0x0B05, 0x0B39),    (0x0B3D, 0x0B3D),    (0x0B5C, 0x0B61),    (0x0B66, 0x0B77),
    (0x0B83, 0x0BB9),    (0x0BD0, 0x0BD0),    (0x0BE6, 0x0BFA),    (0x0C05, 0x0C3D),    (0x0C58, 0x0C61),
    (0x0C66, 0x0C7F),    (0x0C85, 0x0CB9),    (0x0CBD, 0x0CBD),    (0x0CDE, 0x0CE1),    (0x0CE6, 0x0CF2),
    (0x0D05, 0x0D3D),    (0x0D60, 0x0D61),    (0x0D66, 0x0D7F),    (0x0D85, 0x0DC6),    (0x0DE6, 0x0DEF),
    (0x0DF4, 0x0DF4),    (0x0E01, 0x0E30),    (0x0E32, 0x0E33),    (0x0E3F, 0x0E46),    (0x0E4F, 0x0E5B),
    (0x0E81, 0x0EB0),    (0x0EB2, 0x0EB3),    (0x0EBD, 0x0EC6),    (0x0ED0, 0x0EDF),    (0x0F02, 0x0F03),
    (0x0F16, 0x0F17),    (0x0F3A, 0x0F3B),    (0x0FC5, 0x0FC5),    (0x0FC7, 0x0FD0),    (0x0FD2, 0x0FDA),
    (0x1000, 0x102A),    (0x103F, 0x1055),    (0x105A, 0x105D),    (0x1061, 0x1061),    (0x1065, 0x1066),
    (0x106E, 0x1070),    (0x1075, 0x1081),    (0x108E, 0x108E),    (0x1090, 0x1099),    (0x109E, 0x109F),
    (0x1200, 0x135A),    (0x1360, 0x1360),    (0x1363, 0x1365),    (0x1368, 0x1368),    (0x1380, 0x138F),
    (0x1395, 0x1395),    (0x1397, 0x1398),    (0x158E, 0x1594),    (0x15E1, 0x15E1),    (0x1642, 0x1645),
    (0x164A, 0x166C),    (0x166F, 0x166F),    (0x16A1, 0x16A1),    (0x1700, 0x1711),    (0x1720, 0x1731),
    (0x1735, 0x1751),    (0x1760, 0x1761),    (0x1763, 0x1770),    (0x1780, 0x17B3),    (0x17D4, 0x17D5),
    (0x17D7, 0x17DB),    (0x17E0, 0x17E9),    (0x1800, 0x180A),    (0x1810, 0x18A8),    (0x18AA, 0x18AA),
    (0x18F2, 0x18F2)
]

# Characters that should be counted as occupying one column but is drawn over three columns.
TRIPLE_OVERLAPPING_CHARACTERS = [
    (0x1670, 0x1676)
]

